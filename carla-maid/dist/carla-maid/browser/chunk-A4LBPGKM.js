import{$ as O,Ac as At,C as ct,Ca as Oe,Da as k,Ea as U,Ec as Ct,F as ce,Fa as Pe,Fc as Ot,Gc as Pt,J as W,Ja as gt,Ka as Se,La as mt,Ma as N,N as Ae,Nc as he,Oa as Ie,Oc as St,Pa as Ne,Pc as It,Qa as z,Qc as b,Ra as $,Sa as yt,Ta as vt,U as Ce,Ua as wt,Va as Tt,Wa as Et,Wc as fe,X as Z,Xa as bt,Ya as Rt,Za as B,_ as ut,a as C,b as it,ba as g,c as ot,ca as q,cb as H,d as Re,dd as Nt,ea as w,eb as _e,fd as ee,g as De,ga as u,ha as y,hd as pe,jb as Dt,ka as Y,m as at,ma as Q,mb as Mt,n as E,oa as dt,p as S,pa as ue,r as I,ra as ht,sa as ft,ta as pt,v as Me,w as Le,x as lt,yc as Lt,za as de,zc as je}from"./chunk-UCBXSWVS.js";var ne=class{},re=class{},M=class n{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(e=>{let t=e.indexOf(":");if(t>0){let s=e.slice(0,t),i=s.toLowerCase(),o=e.slice(t+1).trim();this.maybeSetNormalizedName(s,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((e,t)=>{this.setHeaderEntries(t,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([e,t])=>{this.setHeaderEntries(e,t)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){let e=r.name.toLowerCase();switch(r.op){case"a":case"s":let t=r.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(r.name,e);let s=(r.op==="a"?this.headers.get(e):void 0)||[];s.push(...t),this.headers.set(e,s);break;case"d":let i=r.value;if(!i)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(l=>i.indexOf(l)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(r,e){let t=(Array.isArray(e)?e:[e]).map(i=>i.toString()),s=r.toLowerCase();this.headers.set(s,t),this.maybeSetNormalizedName(r,s)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}};var Fe=class{encodeKey(r){return _t(r)}encodeValue(r){return _t(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function yn(n,r){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{let i=s.indexOf("="),[o,l]=i==-1?[r.decodeKey(s),""]:[r.decodeKey(s.slice(0,i)),r.decodeValue(s.slice(i+1))],a=e.get(o)||[];a.push(l),e.set(o,a)}),e}var vn=/%(\d[a-f0-9])/gi,wn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(n){return encodeURIComponent(n).replace(vn,(r,e)=>wn[e]??r)}function ge(n){return`${n}`}var j=class n{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new Fe,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=yn(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{let t=r.fromObject[e],s=Array.isArray(t)?t.map(ge):[ge(t)];this.map.set(e,s)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){let e=[];return Object.keys(r).forEach(t=>{let s=r[t];Array.isArray(s)?s.forEach(i=>{e.push({param:t,value:i,op:"a"})}):e.push({param:t,value:s,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let e=this.encoder.encodeKey(r);return this.map.get(r).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let e=(r.op==="a"?this.map.get(r.param):void 0)||[];e.push(ge(r.value)),this.map.set(r.param,e);break;case"d":if(r.value!==void 0){let t=this.map.get(r.param)||[],s=t.indexOf(ge(r.value));s!==-1&&t.splice(s,1),t.length>0?this.map.set(r.param,t):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var ke=class{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function Tn(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jt(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xt(n){return typeof Blob<"u"&&n instanceof Blob}function Ft(n){return typeof FormData<"u"&&n instanceof FormData}function En(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var te=class n{constructor(r,e,t,s){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase();let i;if(Tn(this.method)||s?(this.body=t!==void 0?t:null,i=s):i=t,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new M,this.context??=new ke,!this.params)this.params=new j,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let l=e.indexOf("?"),a=l===-1?"?":l<e.length-1?"&":"";this.urlWithParams=e+a+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jt(this.body)||xt(this.body)||Ft(this.body)||En(this.body)?this.body:this.body instanceof j?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ft(this.body)?null:xt(this.body)?this.body.type||null:jt(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof j?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let e=r.method||this.method,t=r.url||this.url,s=r.responseType||this.responseType,i=r.transferCache??this.transferCache,o=r.body!==void 0?r.body:this.body,l=r.withCredentials??this.withCredentials,a=r.reportProgress??this.reportProgress,c=r.headers||this.headers,d=r.params||this.params,h=r.context??this.context;return r.setHeaders!==void 0&&(c=Object.keys(r.setHeaders).reduce((R,m)=>R.set(m,r.setHeaders[m]),c)),r.setParams&&(d=Object.keys(r.setParams).reduce((R,m)=>R.set(m,r.setParams[m]),d)),new n(e,t,o,{params:d,headers:c,context:h,reportProgress:a,responseType:s,withCredentials:l,transferCache:i})}},x=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(x||{}),se=class{constructor(r,e=200,t="OK"){this.headers=r.headers||new M,this.status=r.status!==void 0?r.status:e,this.statusText=r.statusText||t,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},ye=class n extends se{constructor(r={}){super(r),this.type=x.ResponseHeader}clone(r={}){return new n({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},V=class n extends se{constructor(r={}){super(r),this.type=x.Response,this.body=r.body!==void 0?r.body:null}clone(r={}){return new n({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},_=class extends se{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},qt=200,bn=204;function xe(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Rn=(()=>{class n{constructor(e){this.handler=e}request(e,t,s={}){let i;if(e instanceof te)i=e;else{let a;s.headers instanceof M?a=s.headers:a=new M(s.headers);let c;s.params&&(s.params instanceof j?c=s.params:c=new j({fromObject:s.params})),i=new te(e,t,s.body!==void 0?s.body:null,{headers:a,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let o=E(i).pipe(ce(a=>this.handler.handle(a)));if(e instanceof te||s.observe==="events")return o;let l=o.pipe(ct(a=>a instanceof V));switch(s.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(I(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return l.pipe(I(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return l.pipe(I(a=>{if(a.body!==null&&typeof a.body!="string")throw new Error("Response is not a string.");return a.body}));case"json":default:return l.pipe(I(a=>a.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:new j().append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,s={}){return this.request("PATCH",e,xe(s,t))}post(e,t,s={}){return this.request("POST",e,xe(s,t))}put(e,t,s={}){return this.request("PUT",e,xe(s,t))}static{this.\u0275fac=function(t){return new(t||n)(u(ne))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),Dn=/^\)\]\}',?\n/,Mn="X-Request-URL";function kt(n){if(n.url)return n.url;let r=Mn.toLocaleLowerCase();return n.headers.get(r)}var Ue=(()=>{class n{constructor(){this.fetchImpl=y(Be,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=y(U)}handle(e){return new De(t=>{let s=new AbortController;return this.doRequest(e,s.signal,t).then(Ve,i=>t.error(new _({error:i}))),()=>s.abort()})}doRequest(e,t,s){return Re(this,null,function*(){let i=this.createRequestInit(e),o;try{let m=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,C({signal:t},i)));Ln(m),s.next({type:x.Sent}),o=yield m}catch(m){s.error(new _({error:m,status:m.status??0,statusText:m.statusText,url:e.urlWithParams,headers:m.headers}));return}let l=new M(o.headers),a=o.statusText,c=kt(o)??e.urlWithParams,d=o.status,h=null;if(e.reportProgress&&s.next(new ye({headers:l,status:d,statusText:a,url:c})),o.body){let m=o.headers.get("content-length"),T=[],f=o.body.getReader(),p=0,D,P,v=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Re(this,null,function*(){for(;;){let{done:A,value:J}=yield f.read();if(A)break;if(T.push(J),p+=J.length,e.reportProgress){P=e.responseType==="text"?(P??"")+(D??=new TextDecoder).decode(J,{stream:!0}):void 0;let st=()=>s.next({type:x.DownloadProgress,total:m?+m:void 0,loaded:p,partialText:P});v?v.run(st):st()}}}));let L=this.concatChunks(T,p);try{let A=o.headers.get("Content-Type")??"";h=this.parseBody(e,L,A)}catch(A){s.error(new _({error:A,headers:new M(o.headers),status:o.status,statusText:o.statusText,url:kt(o)??e.urlWithParams}));return}}d===0&&(d=h?qt:0),d>=200&&d<300?(s.next(new V({body:h,headers:l,status:d,statusText:a,url:c})),s.complete()):s.error(new _({error:h,headers:l,status:d,statusText:a,url:c}))})}parseBody(e,t,s){switch(e.responseType){case"json":let i=new TextDecoder().decode(t).replace(Dn,"");return i===""?null:JSON.parse(i);case"text":return new TextDecoder().decode(t);case"blob":return new Blob([t],{type:s});case"arraybuffer":return t.buffer}}createRequestInit(e){let t={},s=e.withCredentials?"include":void 0;if(e.headers.forEach((i,o)=>t[i]=o.join(",")),e.headers.has("Accept")||(t.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let i=e.detectContentTypeHeader();i!==null&&(t["Content-Type"]=i)}return{body:e.serializeBody(),method:e.method,headers:t,credentials:s}}concatChunks(e,t){let s=new Uint8Array(t),i=0;for(let o of e)s.set(o,i),i+=o.length;return s}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),Be=class{};function Ve(){}function Ln(n){n.then(Ve,Ve)}function Yt(n,r){return r(n)}function An(n,r){return(e,t)=>r.intercept(e,{handle:s=>n(s,t)})}function Cn(n,r,e){return(t,s)=>pt(e,()=>r(t,i=>n(i,s)))}var On=new w(""),ze=new w(""),Qt=new w(""),Ht=new w("",{providedIn:"root",factory:()=>!0});function Pn(){let n=null;return(r,e)=>{n===null&&(n=(y(On,{optional:!0})??[]).reduceRight(An,Yt));let t=y(Oe);if(y(Ht)){let i=t.add();return n(r,e).pipe(Ae(()=>t.remove(i)))}else return n(r,e)}}var Ut=(()=>{class n extends ne{constructor(e,t){super(),this.backend=e,this.injector=t,this.chain=null,this.pendingTasks=y(Oe),this.contributeToStability=y(Ht)}handle(e){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(ze),...this.injector.get(Qt,[])]));this.chain=t.reduceRight((s,i)=>Cn(s,i,this.injector),Yt)}if(this.contributeToStability){let t=this.pendingTasks.add();return this.chain(e,s=>this.backend.handle(s)).pipe(Ae(()=>this.pendingTasks.remove(t)))}else return this.chain(e,t=>this.backend.handle(t))}static{this.\u0275fac=function(t){return new(t||n)(u(re),u(ft))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})();var Sn=/^\)\]\}',?\n/;function In(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Bt=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new O(-2800,!1);let t=this.xhrFactory;return(t.\u0275loadImpl?at(t.\u0275loadImpl()):E(null)).pipe(Z(()=>new De(i=>{let o=t.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((f,p)=>o.setRequestHeader(f,p.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let f=e.detectContentTypeHeader();f!==null&&o.setRequestHeader("Content-Type",f)}if(e.responseType){let f=e.responseType.toLowerCase();o.responseType=f!=="json"?f:"text"}let l=e.serializeBody(),a=null,c=()=>{if(a!==null)return a;let f=o.statusText||"OK",p=new M(o.getAllResponseHeaders()),D=In(o)||e.url;return a=new ye({headers:p,status:o.status,statusText:f,url:D}),a},d=()=>{let{headers:f,status:p,statusText:D,url:P}=c(),v=null;p!==bn&&(v=typeof o.response>"u"?o.responseText:o.response),p===0&&(p=v?qt:0);let L=p>=200&&p<300;if(e.responseType==="json"&&typeof v=="string"){let A=v;v=v.replace(Sn,"");try{v=v!==""?JSON.parse(v):null}catch(J){v=A,L&&(L=!1,v={error:J,text:v})}}L?(i.next(new V({body:v,headers:f,status:p,statusText:D,url:P||void 0})),i.complete()):i.error(new _({error:v,headers:f,status:p,statusText:D,url:P||void 0}))},h=f=>{let{url:p}=c(),D=new _({error:f,status:o.status||0,statusText:o.statusText||"Unknown Error",url:p||void 0});i.error(D)},R=!1,m=f=>{R||(i.next(c()),R=!0);let p={type:x.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),e.responseType==="text"&&o.responseText&&(p.partialText=o.responseText),i.next(p)},T=f=>{let p={type:x.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),e.reportProgress&&(o.addEventListener("progress",m),l!==null&&o.upload&&o.upload.addEventListener("progress",T)),o.send(l),i.next({type:x.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",h),e.reportProgress&&(o.removeEventListener("progress",m),l!==null&&o.upload&&o.upload.removeEventListener("progress",T)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(t){return new(t||n)(u(pe))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),en=new w(""),Nn="XSRF-TOKEN",_n=new w("",{providedIn:"root",factory:()=>Nn}),jn="X-XSRF-TOKEN",xn=new w("",{providedIn:"root",factory:()=>jn}),ve=class{},Fn=(()=>{class n{constructor(e,t,s){this.doc=e,this.platform=t,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=fe(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(t){return new(t||n)(u(b),u(N),u(_n))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})();function kn(n,r){let e=n.url.toLowerCase();if(!y(en)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return r(n);let t=y(ve).getToken(),s=y(xn);return t!=null&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,t)})),r(n)}var $e=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}($e||{});function tn(n,r){return{\u0275kind:n,\u0275providers:r}}function Un(...n){let r=[Rn,Bt,Ut,{provide:ne,useExisting:Ut},{provide:re,useFactory:()=>y(Ue,{optional:!0})??y(Bt)},{provide:ze,useValue:kn,multi:!0},{provide:en,useValue:!0},{provide:ve,useClass:Fn}];for(let e of n)r.push(...e.\u0275providers);return ue(r)}var Vt=new w("");function Bn(){return tn($e.LegacyInterceptors,[{provide:Vt,useFactory:Pn},{provide:ze,useExisting:Vt,multi:!0}])}function Or(){return tn($e.Fetch,[Ue,{provide:re,useExisting:Ue}])}var Pr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=Q({type:n})}static{this.\u0275inj=q({providers:[Un(Bn())]})}}return n})();var Vn=new w(""),zt="b",$t="h",Gt="s",Xt="st",Kt="u",Jt="rt",me=new w(""),zn=["GET","HEAD"];function $n(n,r){let m=y(me),{isCacheActive:e}=m,t=ot(m,["isCacheActive"]),{transferCache:s,method:i}=n;if(!e||s===!1||i==="POST"&&!t.includePostRequests&&!s||i!=="POST"&&!zn.includes(i)||!t.includeRequestsWithAuthHeaders&&Gn(n)||t.filter?.(n)===!1)return r(n);let o=y(Ne),l=y(Vn,{optional:!0}),a=ee(y(N));if(l&&!a)throw new O(2803,!1);let c=a&&l?Wn(n.url,l):n.url,d=Kn(n,c),h=o.get(d,null),R=t.includeHeaders;if(typeof s=="object"&&s.includeHeaders&&(R=s.includeHeaders),h){let{[zt]:T,[Jt]:f,[$t]:p,[Gt]:D,[Xt]:P,[Kt]:v}=h,L=T;switch(f){case"arraybuffer":L=new TextEncoder().encode(T).buffer;break;case"blob":L=new Blob([T]);break}let A=new M(p);return E(new V({body:L,headers:A,status:D,statusText:P,url:v}))}return r(n).pipe(ut(T=>{T instanceof V&&a&&o.set(d,{[zt]:T.body,[$t]:Xn(T.headers,R),[Gt]:T.status,[Xt]:T.statusText,[Kt]:c,[Jt]:n.responseType})}))}function Gn(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function Xn(n,r){if(!r)return{};let e={};for(let t of r){let s=n.getAll(t);s!==null&&(e[t]=s)}return e}function Wt(n){return[...n.keys()].sort().map(r=>`${r}=${n.getAll(r)}`).join("&")}function Kn(n,r){let{params:e,method:t,responseType:s}=n,i=Wt(e),o=n.serializeBody();o instanceof URLSearchParams?o=Wt(o):typeof o!="string"&&(o="");let l=[t,s,r,o,i].join("|"),a=Jn(l);return a}function Jn(n){let r=0;for(let e of n)r=Math.imul(31,r)+e.charCodeAt(0)<<0;return r+=2147483648,r.toString()}function nn(n){return[{provide:me,useFactory:()=>(Mt("NgHttpTransferCache"),C({isCacheActive:!0},n))},{provide:Qt,useValue:$n,multi:!0,deps:[Ne,me]},{provide:Lt,multi:!0,useFactory:()=>{let r=y(je),e=y(me);return()=>{At(r).then(()=>{e.isCacheActive=!1})}}}]}function Wn(n,r){let e=new URL(n,"resolve://").origin,t=r[e];return t?n.replace(e,t):n}var Ke=class extends It{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Je=class n extends Ke{static makeCurrent(){St(new n)}onAndCancel(r,e,t){return r.addEventListener(e,t),()=>{r.removeEventListener(e,t)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.remove()}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=qn();return e==null?null:Yn(e)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return fe(document.cookie,r)}},ie=null;function qn(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}function Yn(n){return new URL(n,document.baseURI).pathname}var Qn=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),We=new w(""),an=(()=>{class n{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,s){return this._findPluginFor(t).addEventListener(e,t,s)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(i=>i.supports(e)),!t)throw new O(5101,!1);return this._eventNameToPlugin.set(e,t),t}static{this.\u0275fac=function(t){return new(t||n)(u(We),u(U))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),we=class{constructor(r){this._doc=r}},Ge="ng-app-id",ln=(()=>{class n{constructor(e,t,s,i={}){this.doc=e,this.appId=t,this.nonce=s,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ee(i),this.resetHostNodes()}addStyles(e){for(let t of e)this.changeUsageCount(t,1)===1&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(t=>t.remove()),e.clear());for(let t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){let t=this.styleRef;t.get(e)?.elements?.forEach(s=>s.remove()),t.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Ge}="${this.appId}"]`);if(e?.length){let t=new Map;return e.forEach(s=>{s.textContent!=null&&t.set(s.textContent,s)}),t}return null}changeUsageCount(e,t){let s=this.styleRef;if(s.has(e)){let i=s.get(e);return i.usage+=t,i.usage}return s.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let s=this.styleNodesInDOM,i=s?.get(t);if(i?.parentNode===e)return s.delete(t),i.removeAttribute(Ge),i;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=t,this.platformIsServer&&o.setAttribute(Ge,this.appId),e.appendChild(o),o}}addStyleToHost(e,t){let s=this.getStyleElement(e,t),i=this.styleRef,o=i.get(t)?.elements;o?o.push(s):i.set(t,{elements:[s],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(t){return new(t||n)(u(b),u(Se),u(Ie,8),u(N))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ye=/%COMP%/g,cn="%COMP%",Hn=`_nghost-${cn}`,er=`_ngcontent-${cn}`,tr=!0,nr=new w("",{providedIn:"root",factory:()=>tr});function rr(n){return er.replace(Ye,n)}function sr(n){return Hn.replace(Ye,n)}function un(n,r){return r.map(e=>e.replace(Ye,n))}var rn=(()=>{class n{constructor(e,t,s,i,o,l,a,c=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=s,this.removeStylesOnCompDestroy=i,this.doc=o,this.platformId=l,this.ngZone=a,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=ee(l),this.defaultRenderer=new oe(e,o,a,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Y.ShadowDom&&(t=it(C({},t),{encapsulation:Y.Emulated}));let s=this.getOrCreateRenderer(e,t);return s instanceof Te?s.applyToHost(e):s instanceof ae&&s.applyStyles(),s}getOrCreateRenderer(e,t){let s=this.rendererByCompId,i=s.get(t.id);if(!i){let o=this.doc,l=this.ngZone,a=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(t.encapsulation){case Y.Emulated:i=new Te(a,c,t,this.appId,d,o,l,h);break;case Y.ShadowDom:return new Ze(a,c,e,t,o,l,this.nonce,h);default:i=new ae(a,c,t,d,o,l,h);break}s.set(t.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(t){return new(t||n)(u(an),u(ln),u(Se),u(nr),u(b),u(N),u(U),u(Ie))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),oe=class{constructor(r,e,t,s){this.eventManager=r,this.doc=e,this.ngZone=t,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,e){return e?this.doc.createElementNS(Xe[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(sn(r)?r.content:r).appendChild(e)}insertBefore(r,e,t){r&&(sn(r)?r.content:r).insertBefore(e,t)}removeChild(r,e){e.remove()}selectRootElement(r,e){let t=typeof r=="string"?this.doc.querySelector(r):r;if(!t)throw new O(-5104,!1);return e||(t.textContent=""),t}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,t,s){if(s){e=s+":"+e;let i=Xe[s];i?r.setAttributeNS(i,e,t):r.setAttribute(e,t)}else r.setAttribute(e,t)}removeAttribute(r,e,t){if(t){let s=Xe[t];s?r.removeAttributeNS(s,e):r.removeAttribute(`${t}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,t,s){s&(H.DashCase|H.Important)?r.style.setProperty(e,t,s&H.Important?"important":""):r.style[e]=t}removeStyle(r,e,t){t&H.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,t){r!=null&&(r[e]=t)}setValue(r,e){r.nodeValue=e}listen(r,e,t){if(typeof r=="string"&&(r=he().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${e}`);return this.eventManager.addEventListener(r,e,this.decoratePreventDefault(t))}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))===!1&&e.preventDefault()}}};function sn(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ze=class extends oe{constructor(r,e,t,s,i,o,l,a){super(r,i,o,a),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=un(s.id,s.styles);for(let d of c){let h=document.createElement("style");l&&h.setAttribute("nonce",l),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,t){return super.insertBefore(this.nodeOrShadowRoot(r),e,t)}removeChild(r,e){return super.removeChild(null,e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ae=class extends oe{constructor(r,e,t,s,i,o,l,a){super(r,i,o,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=s,this.styles=a?un(a,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Te=class extends ae{constructor(r,e,t,s,i,o,l,a){let c=s+"-"+t.id;super(r,e,t,i,o,l,a,c),this.contentAttr=rr(c),this.hostAttr=sr(c)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){let t=super.createElement(r,e);return super.setAttribute(t,this.contentAttr,""),t}},ir=(()=>{class n extends we{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,s){return e.addEventListener(t,s,!1),()=>this.removeEventListener(e,t,s)}removeEventListener(e,t,s){return e.removeEventListener(t,s)}static{this.\u0275fac=function(t){return new(t||n)(u(b))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})(),on=["alt","control","meta","shift"],or={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ar={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},lr=(()=>{class n extends we{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,t,s){let i=n.parseEventName(t),o=n.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>he().onAndCancel(e,i.domEventName,o))}static parseEventName(e){let t=e.toLowerCase().split("."),s=t.shift();if(t.length===0||!(s==="keydown"||s==="keyup"))return null;let i=n._normalizeKey(t.pop()),o="",l=t.indexOf("code");if(l>-1&&(t.splice(l,1),o="code."),on.forEach(c=>{let d=t.indexOf(c);d>-1&&(t.splice(d,1),o+=c+".")}),o+=i,t.length!=0||i.length===0)return null;let a={};return a.domEventName=s,a.fullKey=o,a}static matchEventFullKeyCode(e,t){let s=or[e.key]||e.key,i="";return t.indexOf("code.")>-1&&(s=e.code,i="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),on.forEach(o=>{if(o!==s){let l=ar[o];l(e)&&(i+=o+".")}}),i+=s,i===t)}static eventCallback(e,t,s){return i=>{n.matchEventFullKeyCode(i,e)&&s.runGuarded(()=>t(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(t){return new(t||n)(u(b))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac})}}return n})();function rs(n,r){return Ot(C({rootComponent:n},cr(r)))}function cr(n){return{appProviders:[...pr,...n?.providers??[]],platformProviders:fr}}function ur(){Je.makeCurrent()}function dr(){return new Pe}function hr(){return gt(document),document}var fr=[{provide:N,useValue:Nt},{provide:mt,useValue:ur,multi:!0},{provide:b,useFactory:hr,deps:[]}];var pr=[{provide:ht,useValue:"root"},{provide:Pe,useFactory:dr,deps:[]},{provide:We,useClass:ir,multi:!0,deps:[b,U,N]},{provide:We,useClass:lr,multi:!0,deps:[b]},rn,ln,an,{provide:Dt,useExisting:rn},{provide:pe,useClass:Qn,deps:[]},[]];var ss=(()=>{class n{constructor(e){this._doc=e,this._dom=he()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((s,i)=>(i&&s.push(this._getOrCreateElement(i,t)),s),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];let t=this._doc.querySelectorAll(`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);let s=this.getTag(t);return s?this._setMetaElementAttributes(e,s):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){let o=this._parseSelector(e),l=this.getTags(o).filter(a=>this._containsAttributes(e,a))[0];if(l!==void 0)return l}let s=this._dom.createElement("meta");return this._setMetaElementAttributes(e,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(s=>t.setAttribute(this._getMetaKeyMap(s),e[s])),t}_parseSelector(e){let t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(s=>t.getAttribute(this._getMetaKeyMap(s))===e[s])}_getMetaKeyMap(e){return gr[e]||e}static{this.\u0275fac=function(t){return new(t||n)(u(b))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gr={httpEquiv:"http-equiv"},is=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(t){return new(t||n)(u(b))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=g({token:n,factory:function(t){let s=null;return t?s=new(t||n):s=u(yr),s},providedIn:"root"})}}return n})(),yr=(()=>{class n extends mr{constructor(e){super(),this._doc=e}sanitize(e,t){if(t==null)return null;switch(e){case B.NONE:return t;case B.HTML:return $(t,"HTML")?z(t):Rt(this._doc,String(t)).toString();case B.STYLE:return $(t,"Style")?z(t):t;case B.SCRIPT:if($(t,"Script"))return z(t);throw new O(5200,!1);case B.URL:return $(t,"URL")?z(t):bt(String(t));case B.RESOURCE_URL:if($(t,"ResourceURL"))return z(t);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(e){return yt(e)}bypassSecurityTrustStyle(e){return vt(e)}bypassSecurityTrustScript(e){return wt(e)}bypassSecurityTrustUrl(e){return Tt(e)}bypassSecurityTrustResourceUrl(e){return Et(e)}static{this.\u0275fac=function(t){return new(t||n)(u(b))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qe=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(qe||{});function os(...n){let r=[],e=new Set,t=e.has(qe.HttpTransferCacheOptions);for(let{\u0275providers:s,\u0275kind:i}of n)e.add(i),s.length&&r.push(s);return ue([[],Pt(),e.has(qe.NoHttpTransferCache)||t?[]:nn({}),r])}var G=class{},dn=(()=>{class n extends G{getTranslation(e){return E({})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=de(n)))(s||n)}})();static \u0275prov=g({token:n,factory:n.\u0275fac})}return n})(),le=class{},hn=(()=>{class n{handle(e){return e.key}static \u0275fac=function(t){return new(t||n)};static \u0275prov=g({token:n,factory:n.\u0275fac})}return n})();function Ee(n,r){if(n===r)return!0;if(n===null||r===null)return!1;if(n!==n&&r!==r)return!0;let e=typeof n,t=typeof r,s,i,o;if(e==t&&e=="object")if(Array.isArray(n)){if(!Array.isArray(r))return!1;if((s=n.length)==r.length){for(i=0;i<s;i++)if(!Ee(n[i],r[i]))return!1;return!0}}else{if(Array.isArray(r))return!1;o=Object.create(null);for(i in n){if(!Ee(n[i],r[i]))return!1;o[i]=!0}for(i in r)if(!(i in o)&&typeof r[i]<"u")return!1;return!0}return!1}function F(n){return typeof n<"u"&&n!==null}function Qe(n){return n&&typeof n=="object"&&!Array.isArray(n)}function gn(n,r){let e=Object.assign({},n);return Qe(n)&&Qe(r)&&Object.keys(r).forEach(t=>{Qe(r[t])?t in n?e[t]=gn(n[t],r[t]):Object.assign(e,{[t]:r[t]}):Object.assign(e,{[t]:r[t]})}),e}var X=class{},fn=(()=>{class n extends X{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){let s;return typeof e=="string"?s=this.interpolateString(e,t):typeof e=="function"?s=this.interpolateFunction(e,t):s=e,s}getValue(e,t){let s=typeof t=="string"?t.split("."):[t];t="";do t+=s.shift(),F(e)&&F(e[t])&&(typeof e[t]=="object"||!s.length)?(e=e[t],t=""):s.length?t+=".":e=void 0;while(s.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(s,i)=>{let o=this.getValue(t,i);return F(o)?o:s}):e}static \u0275fac=(()=>{let e;return function(s){return(e||(e=de(n)))(s||n)}})();static \u0275prov=g({token:n,factory:n.\u0275fac})}return n})(),K=class{},pn=(()=>{class n extends K{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=(()=>{let e;return function(s){return(e||(e=de(n)))(s||n)}})();static \u0275prov=g({token:n,factory:n.\u0275fac})}return n})(),be=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new k;onLangChange=new k;onDefaultLangChange=new k},He=new w("USE_STORE"),et=new w("USE_DEFAULT_LANG"),tt=new w("DEFAULT_LANGUAGE"),nt=new w("USE_EXTEND"),rt=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new k;_onLangChange=new k;_onDefaultLangChange=new k;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,t,s,i,o,l=!0,a=!1,c=!1,d){this.store=e,this.currentLoader=t,this.compiler=s,this.parser=i,this.missingTranslationHandler=o,this.useDefaultLang=l,this.isolate=a,this.extend=c,d&&this.setDefaultLang(d)}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);typeof t<"u"?(this.defaultLang==null&&(this.defaultLang=e),t.pipe(W(1)).subscribe(s=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return E(this.translations[e]);let t=this.retrieveTranslations(e);return typeof t<"u"?(this.currentLang||(this.currentLang=e),t.pipe(W(1)).subscribe(s=>{this.changeLang(e)}),t):(this.changeLang(e),E(this.translations[e]))}retrieveTranslations(e){let t;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;let t=this.currentLoader.getTranslation(e).pipe(Ce(1),W(1));return this.loadingTranslations=t.pipe(I(s=>this.compiler.compileTranslations(s,e)),Ce(1),W(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[e]=this.extend&&this.translations[e]?C(C({},s),this.translations[e]):s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),t}setTranslation(e,t,s=!1){t=this.compiler.compileTranslations(t,e),(s||this.extend)&&this.translations[e]?this.translations[e]=gn(this.translations[e],t):this.translations[e]=t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(t=>{this.langs.indexOf(t)===-1&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,s){let i;if(t instanceof Array){let o={},l=!1;for(let a of t)o[a]=this.getParsedResult(e,a,s),S(o[a])&&(l=!0);if(l){let a=t.map(c=>S(o[c])?o[c]:E(o[c]));return lt(a).pipe(I(c=>{let d={};return c.forEach((h,R)=>{d[t[R]]=h}),d}))}return o}if(e&&(i=this.parser.interpolate(this.parser.getValue(e,t),s)),typeof i>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),s)),typeof i>"u"){let o={key:t,translateService:this};typeof s<"u"&&(o.interpolateParams=s),i=this.missingTranslationHandler.handle(o)}return typeof i<"u"?i:t}get(e,t){if(!F(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(ce(s=>(s=this.getParsedResult(s,e,t),S(s)?s:E(s))));{let s=this.getParsedResult(this.translations[this.currentLang],e,t);return S(s)?s:E(s)}}getStreamOnTranslationChange(e,t){if(!F(e)||!e.length)throw new Error('Parameter "key" required');return Me(Le(()=>this.get(e,t)),this.onTranslationChange.pipe(Z(s=>{let i=this.getParsedResult(s.translations,e,t);return typeof i.subscribe=="function"?i:E(i)})))}stream(e,t){if(!F(e)||!e.length)throw new Error('Parameter "key" required');return Me(Le(()=>this.get(e,t)),this.onLangChange.pipe(Z(s=>{let i=this.getParsedResult(s.translations,e,t);return S(i)?i:E(i)})))}instant(e,t){if(!F(e)||!e.length)throw new Error('Parameter "key" required');let s=this.getParsedResult(this.translations[this.currentLang],e,t);if(S(s)){if(e instanceof Array){let i={};return e.forEach((o,l)=>{i[e[l]]=e[l]}),i}return e}else return s}set(e,t,s=this.currentLang){this.translations[s][e]=this.compiler.compile(t,s),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(t){return new(t||n)(u(be),u(G),u(K),u(X),u(le),u(et),u(He),u(nt),u(tt))};static \u0275prov=g({token:n,factory:n.\u0275fac})}return n})();var Ts=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,t){this.translate=e,this._ref=t}updateValue(e,t,s){let i=o=>{this.value=o!==void 0?o:e,this.lastKey=e,this._ref.markForCheck()};if(s){let o=this.translate.getParsedResult(s,e,t);S(o.subscribe)?o.subscribe(i):i(o)}this.translate.get(e,t).subscribe(i)}transform(e,...t){if(!e||!e.length)return e;if(Ee(e,this.lastKey)&&Ee(t,this.lastParams))return this.value;let s;if(F(t[0])&&t.length)if(typeof t[0]=="string"&&t[0].length){let i=t[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{s=JSON.parse(i)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else typeof t[0]=="object"&&!Array.isArray(t[0])&&(s=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,s),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(i=>{this.lastKey&&i.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,s,i.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(i=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,s,i.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,s))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(t){return new(t||n)(_e(rt,16),_e(Ct,16))};static \u0275pipe=dt({name:"translate",type:n,pure:!1});static \u0275prov=g({token:n,factory:n.\u0275fac})}return n})(),Es=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:G,useClass:dn},e.compiler||{provide:K,useClass:pn},e.parser||{provide:X,useClass:fn},e.missingTranslationHandler||{provide:le,useClass:hn},be,{provide:He,useValue:e.isolate},{provide:et,useValue:e.useDefaultLang},{provide:nt,useValue:e.extend},{provide:tt,useValue:e.defaultLanguage},rt]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:G,useClass:dn},e.compiler||{provide:K,useClass:pn},e.parser||{provide:X,useClass:fn},e.missingTranslationHandler||{provide:le,useClass:hn},{provide:He,useValue:e.isolate},{provide:et,useValue:e.useDefaultLang},{provide:nt,useValue:e.extend},{provide:tt,useValue:e.defaultLanguage},rt]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=Q({type:n});static \u0275inj=q({})}return n})();export{j as a,Rn as b,Un as c,Or as d,Pr as e,rn as f,rs as g,ss as h,is as i,mr as j,os as k,G as l,rt as m,Ts as n,Es as o};
