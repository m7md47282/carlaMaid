{
  "version": 3,
  "sources": ["src/app/blogs-list/blogs-list.component.ts", "src/app/blogs-list/blogs-list.component.html"],
  "sourcesContent": ["import { Component, OnInit } from '@angular/core';\nimport { Router, RouterLink } from '@angular/router';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { SharedService } from '../shared/services/shared.service';\nimport { WordPressService } from '../shared/services/word-press.service';\nimport { CommonModule } from '@angular/common';\nimport { BlogCardComponent } from '../shared/components/blog-card/blog-card.component';\n\n@Component({\n  selector: 'app-blogs-list',\n  standalone: true,\n  imports: [\n    TranslateModule,\n    RouterModule,\n    CommonModule,\n    BlogCardComponent\n  ],\n  templateUrl: './blogs-list.component.html',\n  styleUrl: './blogs-list.component.sass'\n})\nexport class BlogsListComponent implements OnInit {\n  lang: string = 'en';\n  blogsPosts: any[] = [];\n  isLoadingBlogs: boolean = false;\n  totalBlogs: number = 0;\n  currentPage: number = 1;\n  blogsPerPage: number = 20;\n  hasMoreBlogs: boolean = true;\n  errorMessage: string = '';\n\n  constructor(\n    private translateService: TranslateService,\n    protected _sharedService: SharedService,\n    private _wordPressService: WordPressService,\n    private router: Router\n  ) {\n    this.lang = this.translateService.currentLang || 'en';\n    this.translateService.onLangChange.subscribe(() => {\n      this.lang = this.translateService.currentLang || 'en';\n    });\n  }\n\n  ngOnInit(): void {\n    this.getBlogsPosts();\n  }\n\n  getBlogsPosts(): void {\n    this.isLoadingBlogs = true;\n    this.errorMessage = '';\n    \n    const params = {\n      per_page: this.blogsPerPage,\n      page: this.currentPage\n    };\n\n    // Add timeout to prevent hanging requests\n    const timeout = setTimeout(() => {\n      this.isLoadingBlogs = false;\n      if (!this.blogsPosts || this.blogsPosts.length === 0) {\n        this.errorMessage = 'Request timeout. Please try again.';\n      }\n    }, 10000); // 10 second timeout\n\n    this._wordPressService.getPosts(params).subscribe({\n      next: (value: any) => {\n        clearTimeout(timeout);\n        if (this.currentPage === 1) {\n          this.blogsPosts = value || [];\n        } else {\n          this.blogsPosts = [...this.blogsPosts, ...(value || [])];\n        }\n        \n        this.totalBlogs = this.blogsPosts.length;\n        this.hasMoreBlogs = (value && value.length === this.blogsPerPage);\n        this.isLoadingBlogs = false;\n      },\n      error: (error: any) => {\n        clearTimeout(timeout);\n        console.error('Error fetching blog posts:', error);\n        this.errorMessage = 'Failed to load blogs. Please try again.';\n        this.blogsPosts = [];\n        this.isLoadingBlogs = false;\n      }\n    });\n  }\n\n  loadMoreBlogs(): void {\n    if (!this.isLoadingBlogs && this.hasMoreBlogs) {\n      this.currentPage++;\n      this.getBlogsPosts();\n    }\n  }\n\n  retryLoading(): void {\n    this.currentPage = 1;\n    this.getBlogsPosts();\n  }\n}\n", "<section class=\"section-1 center flex-column\">\n    <h1 class=\"text-align-center hero-title\">{{\"shared.BestCleaningCompanyInQatar\" | translate}}</h1>\n</section>\n\n<section class=\"section-7 fade-in animation-delay\">\n    <h1 class=\"primary-text-color center title-size\">{{ 'blogs.latestNewAndBlogs' | translate }}</h1>\n    \n    <!-- Blog Stats -->\n    <div class=\"blog-stats\">\n        <p class=\"blog-count\">{{ 'blogs.totalBlogs' | translate }}: {{ totalBlogs }}</p>\n    </div>\n\n    <!-- Loading State -->\n    @if (isLoadingBlogs && currentPage === 1) {\n        <div class=\"loading-container\">\n            <div class=\"loading-spinner\"></div>\n            <p>{{ 'blogs.loading' | translate }}</p>\n        </div>\n    }\n\n    <!-- Error State -->\n    @if (errorMessage && !isLoadingBlogs) {\n        <div class=\"error-container\">\n            <p class=\"error-message\">{{ errorMessage }}</p>\n            <button class=\"btn-secondary retry-btn\" (click)=\"retryLoading()\">\n                <span class=\"primary-text-color font-weight-700\">{{ 'blogs.retry' | translate }}</span>\n            </button>\n        </div>\n    }\n\n    <!-- Blogs Grid -->\n    @if (!isLoadingBlogs || currentPage > 1) {\n        <div class=\"blogs-grid\">\n            @for (post of blogsPosts; track post.id) {\n                <app-blog-card [blog]=\"post\"></app-blog-card>\n            }\n        </div>\n    }\n\n    <!-- Load More Button -->\n    @if (hasMoreBlogs && !isLoadingBlogs && !errorMessage) {\n        <div class=\"load-more-container\">\n            <button class=\"btn-secondary load-more-btn\" (click)=\"loadMoreBlogs()\">\n                <span class=\"primary-text-color font-weight-700\">{{ 'blogs.loadMore' | translate }}</span>\n            </button>\n        </div>\n    }\n\n    <!-- Loading More State -->\n    @if (isLoadingBlogs && currentPage > 1) {\n        <div class=\"loading-more-container\">\n            <div class=\"loading-spinner\"></div>\n            <p>{{ 'blogs.loadingMore' | translate }}</p>\n        </div>\n    }\n\n    <!-- No Blogs State -->\n    @if (!isLoadingBlogs && blogsPosts.length === 0 && !errorMessage) {\n        <div class=\"no-blogs-container\">\n            <p>{{ 'blogs.noPosts' | translate }}</p>\n        </div>\n    }\n</section>"],
  "mappings": "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",
  "names": []
}
