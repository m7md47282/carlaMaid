import{a as w}from"./chunk-2HEXH7VM.js";import"./chunk-7MCLUFI6.js";import{a as k}from"./chunk-4PL73TZE.js";import{e as S,g as I}from"./chunk-6HOCCV7V.js";import{n as M,o as O}from"./chunk-FJGNB7MU.js";import{Gb as b,Kb as t,Lb as i,Mb as C,Tb as g,Vb as h,bd as _,db as n,eb as d,ec as a,fc as m,gc as s,ja as u,mc as P,qc as o,rc as r,ub as v,va as f,wa as x}from"./chunk-HNLREC5R.js";function A(p,e){if(p&1&&(t(0,"div",5)(1,"div",9)(2,"span"),a(3),o(4,"translate"),i(),t(5,"span"),a(6),i()(),t(7,"div",9)(8,"span"),a(9),o(10,"translate"),i(),t(11,"span",10),a(12),o(13,"translate"),i()()()),p&2){let c=h();n(3),s("",r(4,4,"payment.orderId"),":"),n(3),m(c.paymentStatus.orderId),n(3),s("",r(10,6,"payment.status"),":"),n(3),m(r(13,8,"payment.status.cancelled"))}}var E=class p{constructor(e,c,l,y){this.route=e;this.router=c;this.paymentService=l;this.analyticsService=y}paymentStatus;orderId;ngOnInit(){let e=sessionStorage.getItem("paymentOrderId");this.orderId=e||this.route.snapshot.queryParams.orderId,this.orderId&&this.checkPaymentStatus()}checkPaymentStatus(){this.orderId&&this.paymentService.checkPaymentStatus(this.orderId).subscribe({next:e=>{this.paymentStatus=e,this.analyticsService.trackEvent("payment_cancelled",{order_id:e.orderId,amount:e.amount,currency:e.currency}),sessionStorage.removeItem("bookingData"),sessionStorage.removeItem("paymentOrderId"),sessionStorage.removeItem("paymentAmount")},error:e=>{console.error("Error checking payment status:",e)}})}tryAgain(){this.router.navigate(["/book-now"])}goToHome(){this.router.navigate(["/"])}static \u0275fac=function(c){return new(c||p)(d(S),d(I),d(w),d(k))};static \u0275cmp=u({type:p,selectors:[["app-payment-cancel"]],standalone:!0,features:[P],decls:19,vars:13,consts:[[1,"payment-cancel-container"],[1,"cancel-card"],[1,"cancel-icon"],["width","64","height","64","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18 6L6 18M6 6L18 18","stroke","#EF4444","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"payment-details"],[1,"actions"],[1,"btn-primary",3,"click"],[1,"btn-secondary",3,"click"],[1,"detail-row"],[1,"status-cancelled"]],template:function(c,l){c&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),f(),t(3,"svg",3),C(4,"path",4),i()(),x(),t(5,"h1"),a(6),o(7,"translate"),i(),t(8,"p"),a(9),o(10,"translate"),i(),v(11,A,14,10,"div",5),t(12,"div",6)(13,"button",7),g("click",function(){return l.tryAgain()}),a(14),o(15,"translate"),i(),t(16,"button",8),g("click",function(){return l.goToHome()}),a(17),o(18,"translate"),i()()()()),c&2&&(n(6),m(r(7,5,"payment.cancel.title")),n(3),m(r(10,7,"payment.cancel.message")),n(2),b(l.paymentStatus?11:-1),n(3),s(" ",r(15,9,"payment.tryAgain")," "),n(3),s(" ",r(18,11,"payment.backToHome")," "))},dependencies:[_,O,M],styles:[".payment-cancel-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.cancel-card[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:40px;text-align:center;box-shadow:0 20px 40px #0000001a;max-width:500px;width:100%}.cancel-icon[_ngcontent-%COMP%]{margin-bottom:20px}h1[_ngcontent-%COMP%]{color:#ef4444;margin-bottom:15px;font-size:28px}p[_ngcontent-%COMP%]{color:#6b7280;margin-bottom:30px;font-size:16px}.payment-details[_ngcontent-%COMP%]{background:#f9fafb;border-radius:10px;padding:20px;margin:20px 0;text-align:left}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;font-size:14px}.detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.status-cancelled[_ngcontent-%COMP%]{color:#ef4444;font-weight:600}.actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;flex-wrap:wrap}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;border:none;font-size:16px;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#dc2626}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb}@media (max-width: 600px){.cancel-card[_ngcontent-%COMP%]{padding:30px 20px}.actions[_ngcontent-%COMP%]{flex-direction:column}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}}"]})};export{E as PaymentCancelComponent};
